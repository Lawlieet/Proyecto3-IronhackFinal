{"ast":null,"code":"import _regeneratorRuntime from\"/home/juan/Escritorio/lunesfinal/Proyecto3-IronhackFinal/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/juan/Escritorio/lunesfinal/Proyecto3-IronhackFinal/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useContext}from'react';import{Flex,FormControl,InputGroup,InputLeftAddon,Input,Icon,useToast,Text}from'@chakra-ui/core';import{MyContext}from'../../context';import{Link}from'react-router-dom';import Form from'../../components/Form';export default function Login(_ref){var history=_ref.history;var toast=useToast();var context=useContext(MyContext);var submit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _ref3,user,msg;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return context.handleLoginSubmit(e);case 2:_ref3=_context.sent;user=_ref3.user;msg=_ref3.msg;if(user){history.push('/profile');}else{toast({title:'Revisa tus datos ',description:msg,status:'error',duration:9000,isClosable:true});}case 6:case\"end\":return _context.stop();}}},_callee);}));return function submit(_x){return _ref2.apply(this,arguments);};}();return React.createElement(MyContext.Consumer,null,function(context){return React.createElement(Flex,{mt:\"10vh\",w:\"100vw\",h:\"90vh\",align:\"center\",justify:\"center\",direction:\"column\"},React.createElement(Form,{submit:submit,bgColor:\"green.200\",title:\"Inicia sesi\\xF3n\"},React.createElement(FormControl,{isRequired:true},React.createElement(InputGroup,null,React.createElement(InputLeftAddon,{children:React.createElement(Icon,{name:\"email\"})}),React.createElement(Input,{onChange:context.handleLoginInput,placeholder:\"Email\",name:\"email\",type:\"email\",value:context.state.formLogin.email}))),React.createElement(FormControl,{isRequired:true},React.createElement(InputGroup,null,React.createElement(InputLeftAddon,{children:React.createElement(Icon,{name:\"lock\"})}),React.createElement(Input,{onChange:context.handleLoginInput,placeholder:\"Contrase\\xF1a\",name:\"password\",type:\"password\",value:context.state.formLogin.password})))),React.createElement(Text,{color:\"#626C6D\",mt:\"5vh\",as:Link,to:\"/signup\"},\"A\\xFAn no tienes cuenta? Registrate aqu\\xED.\"));});}","map":{"version":3,"sources":["/home/juan/Escritorio/lunesfinal/Proyecto3-IronhackFinal/frontend/src/pages/login/index.js"],"names":["React","useContext","Flex","FormControl","InputGroup","InputLeftAddon","Input","Icon","useToast","Text","MyContext","Link","Form","Login","history","toast","context","submit","e","handleLoginSubmit","user","msg","push","title","description","status","duration","isClosable","handleLoginInput","state","formLogin","email","password"],"mappings":"qSAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,OACEC,IADF,CAEEC,WAFF,CAGEC,UAHF,CAIEC,cAJF,CAKEC,KALF,CAMEC,IANF,CAOEC,QAPF,CAQEC,IARF,KASO,iBATP,CAUA,OAASC,SAAT,KAA0B,eAA1B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,uBAAjB,CAEA,cAAe,SAASC,CAAAA,KAAT,MAA4B,IAAXC,CAAAA,OAAW,MAAXA,OAAW,CACzC,GAAMC,CAAAA,KAAK,CAAGP,QAAQ,EAAtB,CACA,GAAMQ,CAAAA,OAAO,CAAGf,UAAU,CAACS,SAAD,CAA1B,CACA,GAAMO,CAAAA,MAAM,2FAAG,iBAAMC,CAAN,2JACeF,CAAAA,OAAO,CAACG,iBAAR,CAA0BD,CAA1B,CADf,4BACLE,IADK,OACLA,IADK,CACCC,GADD,OACCA,GADD,CAEb,GAAID,IAAJ,CAAU,CACRN,OAAO,CAACQ,IAAR,CAAa,UAAb,EACD,CAFD,IAEO,CACLP,KAAK,CAAC,CACJQ,KAAK,CAAE,mBADH,CAEJC,WAAW,CAAEH,GAFT,CAGJI,MAAM,CAAE,OAHJ,CAIJC,QAAQ,CAAE,IAJN,CAKJC,UAAU,CAAE,IALR,CAAD,CAAL,CAOD,CAZY,sDAAH,kBAANV,CAAAA,MAAM,6CAAZ,CAcA,MACE,qBAAC,SAAD,CAAW,QAAX,MACG,SAAAD,OAAO,CAAI,CACV,MACE,qBAAC,IAAD,EACE,EAAE,CAAC,MADL,CAGE,CAAC,CAAC,OAHJ,CAIE,CAAC,CAAC,MAJJ,CAKE,KAAK,CAAC,QALR,CAME,OAAO,CAAC,QANV,CAOE,SAAS,CAAC,QAPZ,EASE,oBAAC,IAAD,EAAM,MAAM,CAAEC,MAAd,CAAsB,OAAO,CAAC,WAA9B,CAA0C,KAAK,CAAC,kBAAhD,EACE,oBAAC,WAAD,EAAa,UAAU,KAAvB,EACE,oBAAC,UAAD,MACE,oBAAC,cAAD,EAAgB,QAAQ,CAAE,oBAAC,IAAD,EAAM,IAAI,CAAC,OAAX,EAA1B,EADF,CAEE,oBAAC,KAAD,EACE,QAAQ,CAAED,OAAO,CAACY,gBADpB,CAEE,WAAW,CAAC,OAFd,CAGE,IAAI,CAAC,OAHP,CAIE,IAAI,CAAC,OAJP,CAKE,KAAK,CAAEZ,OAAO,CAACa,KAAR,CAAcC,SAAd,CAAwBC,KALjC,EAFF,CADF,CADF,CAaE,oBAAC,WAAD,EAAa,UAAU,KAAvB,EACE,oBAAC,UAAD,MACE,oBAAC,cAAD,EAAgB,QAAQ,CAAE,oBAAC,IAAD,EAAM,IAAI,CAAC,MAAX,EAA1B,EADF,CAEE,oBAAC,KAAD,EACE,QAAQ,CAAEf,OAAO,CAACY,gBADpB,CAEE,WAAW,CAAC,eAFd,CAGE,IAAI,CAAC,UAHP,CAIE,IAAI,CAAC,UAJP,CAKE,KAAK,CAAEZ,OAAO,CAACa,KAAR,CAAcC,SAAd,CAAwBE,QALjC,EAFF,CADF,CAbF,CATF,CAmCE,oBAAC,IAAD,EAAQ,KAAK,CAAC,SAAd,CAAwB,EAAE,CAAC,KAA3B,CAAiC,EAAE,CAAErB,IAArC,CAA2C,EAAE,CAAC,SAA9C,iDAnCF,CADF,CAuCD,CAzCH,CADF,CA6CD","sourcesContent":["import React, { useContext } from 'react'\nimport {\n  Flex,\n  FormControl,\n  InputGroup,\n  InputLeftAddon,\n  Input,\n  Icon,\n  useToast,\n  Text\n} from '@chakra-ui/core'\nimport { MyContext } from '../../context'\nimport { Link } from 'react-router-dom'\nimport Form from '../../components/Form'\n\nexport default function Login({ history }) {\n  const toast = useToast()\n  const context = useContext(MyContext)\n  const submit = async e => {\n    const { user, msg } = await context.handleLoginSubmit(e)\n    if (user) {\n      history.push('/profile')\n    } else {\n      toast({\n        title: 'Revisa tus datos ',\n        description: msg,\n        status: 'error',\n        duration: 9000,\n        isClosable: true\n      })\n    }\n  }\n  return (\n    <MyContext.Consumer>\n      {context => {\n        return (\n          <Flex\n            mt=\"10vh\"\n            \n            w=\"100vw\"\n            h=\"90vh\"\n            align=\"center\"\n            justify=\"center\"\n            direction=\"column\"\n          >\n            <Form submit={submit} bgColor=\"green.200\" title=\"Inicia sesión\">\n              <FormControl isRequired>\n                <InputGroup>\n                  <InputLeftAddon children={<Icon name=\"email\" />} />\n                  <Input\n                    onChange={context.handleLoginInput}\n                    placeholder=\"Email\"\n                    name=\"email\"\n                    type=\"email\"\n                    value={context.state.formLogin.email}\n                  />\n                </InputGroup>\n              </FormControl>\n              <FormControl isRequired>\n                <InputGroup>\n                  <InputLeftAddon children={<Icon name=\"lock\" />} />\n                  <Input\n                    onChange={context.handleLoginInput}\n                    placeholder=\"Contraseña\"\n                    name=\"password\"\n                    type=\"password\"\n                    value={context.state.formLogin.password}\n                  />\n                </InputGroup>\n              </FormControl>\n            </Form>\n            <Text   color=\"#626C6D\" mt=\"5vh\" as={Link} to=\"/signup\">Aún no tienes cuenta? Registrate aquí.</Text>\n          </Flex>\n        )\n      }}\n    </MyContext.Consumer>\n  )\n}"]},"metadata":{},"sourceType":"module"}