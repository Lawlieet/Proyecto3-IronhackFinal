{"ast":null,"code":"var _jsxFileName = \"/home/juan/Escritorio/lunesfinal/Proyecto3-IronhackFinal/Proyecto Final/frontend/src/components/TrabajoDetail.js\";\nimport React, { useContext, Component } from 'react';\nimport { Stack, Box, Text, Image, Badge, Flex, Avatar, SimpleGrid } from '@chakra-ui/core';\nimport { MyContext } from '../context';\nimport SERVICE_TRABAJO from '../services/trabajo';\nimport trabajo from '../pages/trabajo';\nimport { Link } from \"react-router-dom\";\n\nclass TrabajoDetail extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      trabajo: {},\n      title: \"\",\n      description: \"\",\n      edit: false\n    };\n\n    this.switchEditForm = () => {\n      this.setState({\n        edit: !this.state.edit\n      });\n    };\n\n    this.submit = async e => {\n      e.preventDefault();\n      await SERVICE_TRABAJO.updateTrabajo(this.props.trabajoId, this.state.title, this.state.description);\n      this.getTrabajoInfo();\n    };\n\n    this.handleInput = ({\n      target: {\n        name,\n        value\n      }\n    }) => {\n      this.setState({\n        [name]: value\n      });\n    };\n  }\n\n  async getTrabajoInfo() {\n    const trabajo = await SERVICE_TRABAJO.getTrabajo(this.props.trabajoId);\n    this.setState({\n      trabajo,\n      title: trabajo.title,\n      description: trabajo.description\n    });\n  }\n\n  async componentDidMount() {\n    console.log(\"Mount\");\n    this.getTrabajoInfo(); // SERVICE_TRABAJO.getAllTrabajos()\n    // .then( ( {data} ) => {\n    //     this.setState(\n    //     {\n    //         trabajos: data \n    //     }\n    //     )\n    // } )\n    // .catch(err => console.error(err))\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Hello\", this.state.trabajo.title), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, this.state.trabajo.description), React.createElement(\"button\", {\n      onClick: this.switchEditForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Edit Project\"), this.state.edit && React.createElement(\"form\", {\n      onSubmit: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Project title\", React.createElement(\"input\", {\n      type: \"text\",\n      name: \"title\",\n      id: \"title\",\n      placeholder: \"title\",\n      value: this.state.title,\n      onChange: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Project description\", React.createElement(\"input\", {\n      type: \"text\",\n      name: \"description\",\n      id: \"description\",\n      placeholder: \"description\",\n      value: this.state.description,\n      onChange: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Update project\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default TrabajoDetail;","map":{"version":3,"sources":["/home/juan/Escritorio/lunesfinal/Proyecto3-IronhackFinal/Proyecto Final/frontend/src/components/TrabajoDetail.js"],"names":["React","useContext","Component","Stack","Box","Text","Image","Badge","Flex","Avatar","SimpleGrid","MyContext","SERVICE_TRABAJO","trabajo","Link","TrabajoDetail","state","title","description","edit","switchEditForm","setState","submit","e","preventDefault","updateTrabajo","props","trabajoId","getTrabajoInfo","handleInput","target","name","value","getTrabajo","componentDidMount","console","log","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,QAA6C,OAA7C;AACA,SAASC,KAAT,EAAgBC,GAAhB,EAAqBC,IAArB,EAA2BC,KAA3B,EAAkCC,KAAlC,EAAyCC,IAAzC,EAA+CC,MAA/C,EAAuDC,UAAvD,QAAyE,iBAAzE;AACA,SAASC,SAAT,QAA0B,YAA1B;AACA,OAAOC,eAAP,MAA4B,qBAA5B;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAEA,MAAMC,aAAN,SAA4Bb,SAA5B,CAAsC;AAAA;AAAA;AAAA,SAElCc,KAFkC,GAE1B;AACJH,MAAAA,OAAO,EAAC,EADJ;AAEJI,MAAAA,KAAK,EAAC,EAFF;AAGJC,MAAAA,WAAW,EAAC,EAHR;AAIJC,MAAAA,IAAI,EAAC;AAJD,KAF0B;;AAAA,SAsClCC,cAtCkC,GAsCjB,MAAM;AACnB,WAAKC,QAAL,CAAc;AACVF,QAAAA,IAAI,EAAE,CAAC,KAAKH,KAAL,CAAWG;AADR,OAAd;AAGH,KA1CiC;;AAAA,SA4ClCG,MA5CkC,GA4CzB,MAAMC,CAAN,IAAU;AACfA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAMZ,eAAe,CAACa,aAAhB,CACF,KAAKC,KAAL,CAAWC,SADT,EAEF,KAAKX,KAAL,CAAWC,KAFT,EAGF,KAAKD,KAAL,CAAWE,WAHT,CAAN;AAKA,WAAKU,cAAL;AACH,KApDiC;;AAAA,SAsDlCC,WAtDkC,GAsDrB,CAAE;AAAEC,MAAAA,MAAM,EAAG;AAACC,QAAAA,IAAD;AAAMC,QAAAA;AAAN;AAAX,KAAF,KAA8B;AACvC,WAAKX,QAAL,CAAc;AAAC,SAACU,IAAD,GAASC;AAAV,OAAd;AACH,KAxDiC;AAAA;;AAUlC,QAAMJ,cAAN,GAAsB;AAClB,UAAOf,OAAO,GAAI,MAAMD,eAAe,CAACqB,UAAhB,CAA2B,KAAKP,KAAL,CAAWC,SAAtC,CAAxB;AACA,SAAKN,QAAL,CAAc;AACVR,MAAAA,OADU;AAEVI,MAAAA,KAAK,EAAEJ,OAAO,CAACI,KAFL;AAGVC,MAAAA,WAAW,EAAEL,OAAO,CAACK;AAHX,KAAd;AAKH;;AAGD,QAAMgB,iBAAN,GAAyB;AACrBC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,SAAKR,cAAL,GAFqB,CAIrB;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEH;;AAsBDS,EAAAA,MAAM,GAAE;AACJ,WACA,0CAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAU,KAAKrB,KAAL,CAAWH,OAAX,CAAmBI,KAA7B,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI,KAAKD,KAAL,CAAWH,OAAX,CAAmBK,WAAvB,CAHJ,EAKI;AAAQ,MAAA,OAAO,EAAE,KAAKE,cAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALJ,EAMC,KAAKJ,KAAL,CAAWG,IAAX,IACC;AAAM,MAAA,QAAQ,EAAE,KAAKG,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAEE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,EAAE,EAAC,OAHL;AAIE,MAAA,WAAW,EAAC,OAJd;AAKE,MAAA,KAAK,EAAE,KAAKN,KAAL,CAAWC,KALpB;AAME,MAAA,QAAQ,EAAE,KAAKY,WANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,EAYE;AAAO,MAAA,OAAO,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAEE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,aAFP;AAGE,MAAA,EAAE,EAAC,aAHL;AAIE,MAAA,WAAW,EAAC,aAJd;AAKE,MAAA,KAAK,EAAE,KAAKb,KAAL,CAAWE,WALpB;AAME,MAAA,QAAQ,EAAE,KAAKW,WANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAZF,EAuBE;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,gBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvBF,CADF,CAPF,CADA;AA0CH;;AArGiC;;AAwGtC,eAAed,aAAf","sourcesContent":["import React, { useContext, Component } from 'react'\nimport { Stack, Box, Text, Image, Badge, Flex, Avatar, SimpleGrid } from '@chakra-ui/core'\nimport { MyContext } from '../context'\nimport SERVICE_TRABAJO from '../services/trabajo'\nimport trabajo from '../pages/trabajo'\nimport { Link } from \"react-router-dom\";\n\nclass TrabajoDetail extends Component {\n\n    state = {\n        trabajo:{},\n        title:\"\",\n        description:\"\",\n        edit:false\n    }\n\n\n    async getTrabajoInfo(){\n        const  trabajo  = await SERVICE_TRABAJO.getTrabajo(this.props.trabajoId)\n        this.setState({\n            trabajo,\n            title: trabajo.title,\n            description: trabajo.description\n        })\n    }\n\n\n    async componentDidMount(){\n        console.log(\"Mount\")  \n        this.getTrabajoInfo()\n\n        // SERVICE_TRABAJO.getAllTrabajos()\n      \n        // .then( ( {data} ) => {\n        //     this.setState(\n        //     {\n        //         trabajos: data \n                \n        //     }\n        //     )\n        // } )\n        // .catch(err => console.error(err))\n\n    }\n\n    switchEditForm = () => {\n        this.setState({\n            edit: !this.state.edit\n        })\n    }\n\n    submit = async e =>{\n        e.preventDefault()\n        await SERVICE_TRABAJO.updateTrabajo(\n            this.props.trabajoId,\n            this.state.title,\n            this.state.description\n        )\n        this.getTrabajoInfo()\n    }\n\n    handleInput= ( { target : {name,value}}) =>{\n        this.setState({[name] : value})\n    }\n\n    render(){\n        return(\n        <>\n            \n            <h1>Hello{this.state.trabajo.title}</h1>\n            <p>{this.state.trabajo.description}</p>\n        \n            <button onClick={this.switchEditForm}>Edit Project</button>\n        {this.state.edit && (\n          <form onSubmit={this.submit}>\n            <div>\n              <label htmlFor=\"title\">\n                Project title\n                <input\n                  type=\"text\"\n                  name=\"title\"\n                  id=\"title\"\n                  placeholder=\"title\"\n                  value={this.state.title}\n                  onChange={this.handleInput}\n                />\n              </label>\n              <label htmlFor=\"description\">\n                Project description\n                <input\n                  type=\"text\"\n                  name=\"description\"\n                  id=\"description\"\n                  placeholder=\"description\"\n                  value={this.state.description}\n                  onChange={this.handleInput}\n                />\n              </label>\n              <input type=\"submit\" value=\"Update project\" />\n            </div>\n          </form>\n        )}\n\n\n\n\n        </>\n        )\n    }\n}\n\nexport default TrabajoDetail;"]},"metadata":{},"sourceType":"module"}